{"componentChunkName":"component---src-templates-blog-post-js","path":"/Study/Android/kotlinCoroutine_01_start/","result":{"data":{"site":{"siteMetadata":{"title":"SangMin 개발 이야기","author":"SangMin","siteUrl":"https://sangmin802.github.io","comment":{"disqusShortName":"","utterances":"sangmin802/sangmin802.github.io"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"02e7c158-d88b-5a5f-9fd3-6b08ffbad75f","excerpt":"Coroutine 🧐왜? 얼마전  앱을 하나 만들어보는 과정에 통신을 하게되었는데, 알수없는 에러가 계속 뜨더라.. 😬이런이유가.. 앱에서 통신을 할 때에, 에서 진행을 할 수 없기때문에 콜백등을 활용하여 다른 별도의 에서 작업을 해야한다더라.. 근데 프론트에서 많이 겪어보았듯이.. 콜백지옥.. 그러던중 처럼 동기, 비동기작업을 도와주는것이 있지않을까 알아보던중 을 알게되었다. Coroutine…","html":"<h2 id=\"coroutine\" style=\"position:relative;\"><a href=\"#coroutine\" aria-label=\"coroutine permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Coroutine</h2>\n<h3 id=\"🧐왜\" style=\"position:relative;\"><a href=\"#%F0%9F%A7%90%EC%99%9C\" aria-label=\"🧐왜 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🧐왜?</h3>\n<ul>\n<li>얼마전 <code class=\"language-text\">Kotlin</code> 앱을 하나 만들어보는 과정에 <code class=\"language-text\">Http</code>통신을 하게되었는데, 알수없는 에러가 계속 뜨더라..</li>\n</ul>\n<h3 id=\"이런이유가\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%9F%B0%EC%9D%B4%EC%9C%A0%EA%B0%80\" aria-label=\"이런이유가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>😬이런이유가..</h3>\n<ul>\n<li>앱에서 <code class=\"language-text\">Http</code>통신을 할 때에, <code class=\"language-text\">Main thread</code>에서 진행을 할 수 없기때문에 콜백등을 활용하여 다른 별도의 <code class=\"language-text\">thread</code>에서 작업을 해야한다더라..</li>\n<li>근데 프론트에서 많이 겪어보았듯이.. 콜백지옥.. 그러던중 <code class=\"language-text\">Promise객체</code>처럼 동기, 비동기작업을 도와주는것이 있지않을까 알아보던중 <code class=\"language-text\">Coroutine</code>을 알게되었다.</li>\n</ul>\n<h3 id=\"coroutine-1\" style=\"position:relative;\"><a href=\"#coroutine-1\" aria-label=\"coroutine 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Coroutine?</h3>\n<ul>\n<li>여러개의 루틴들이 협동하여 모여있는것이 코루틴이다.</li>\n<li>코루틴은 이전에 자신의 샐행이 마지막으로 중단되었던 지점 다음장소에서 실행을 재개한다.</li>\n<li>일반루틴 : 진입한번, 종료한번</li>\n<li>코루틴 : 진입, 중단 - 재개, 중단 - 재개, 종료</li>\n</ul>\n<h3 id=\"coroutine-등장배경\" style=\"position:relative;\"><a href=\"#coroutine-%EB%93%B1%EC%9E%A5%EB%B0%B0%EA%B2%BD\" aria-label=\"coroutine 등장배경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Coroutine 등장배경</h3>\n<ol>\n<li>꿈의코드1</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  val user <span class=\"token operator\">=</span> <span class=\"token function\">fetchUserData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  textView<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>name</code></pre></div>\n<ul>\n<li>\n<p><code class=\"language-text\">Http</code>통신을 통해 값을 받아오고, 그 값을 토대로 작업 진행.</p>\n<blockquote>\n<p>당연히 작동안됨. 통신과정에 시간이 필요하지만 코드를 읽을 때 별다른 코드가 없다면 기다려주지않음.</p>\n</blockquote>\n</li>\n<li>꿈의코드2</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  thread <span class=\"token punctuation\">{</span>\n    val user <span class=\"token operator\">=</span> <span class=\"token function\">fetchUserData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    textView<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>name\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>별도의 작업영역을 만들어서 통신은 되지만, UI관련작업은 <code class=\"language-text\">main thread</code>에서만 가능하기 때문에 에러가 발생함</li>\n<li>꿈을 포기한 현실적인 코드</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  fetchUserData <span class=\"token punctuation\">{</span> user <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      textView<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>name\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>fetchUserData메소드에 콜백함수를 보낸 뒤, fetchUserData의 작업을 완료하고 나오는 데이터값을 콜백함수의 인자로 보내서 작업을 진행한다.</p>\n<blockquote>\n<p>문제없이 작동되지만 콜백지옥과 메모리문제 발생</p>\n</blockquote>\n</li>\n<li>코루틴을 통한 꿈 실현</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  suspend fun <span class=\"token function\">loadUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      val user <span class=\"token operator\">=</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">fetchUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">show</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p><code class=\"language-text\">suspend</code>는 중단 메소드로, 코루틴 영역이거나 같은 중단메소드 안에서 해당 메소드를 만나면 해당 메소드가 완료될때까지 이후의 코드는 읽히지 않는다.</p>\n<blockquote>\n<p>마치 동기화된 코드같음</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"참조\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EC%A1%B0\" aria-label=\"참조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참조</h2>\n<p><a href=\"https://www.youtube.com/watch?v=Vs34wiuJMYk&#x26;list=PLbJr8hAHHCP5N6Lsot8SAnC28SoxwAU5A\">새차원 코틀린 코루틴</a></p>","frontmatter":{"title":"Kotlin Coroutine","date":"September 28, 2020"}}},"pageContext":{"slug":"/Study/Android/kotlinCoroutine_01_start/","previous":{"fields":{"slug":"/Study/Android/kotlin_11_fragment/"},"frontmatter":{"title":"Kotlin Fragment","category":"Study","draft":false,"tag":"Android"}},"next":{"fields":{"slug":"/Study/Android/kotlinCoroutine_02_basic/"},"frontmatter":{"title":"Kotlin Coroutine Basic","category":"Study","draft":false,"tag":"Android"}}}},"staticQueryHashes":["3128451518","3665928227","479399088","479399088"]}