{"componentChunkName":"component---src-templates-blog-post-js","path":"/Study/Think/callstack await/","result":{"data":{"site":{"siteMetadata":{"title":"SangMin ê°œë°œ ì´ì•¼ê¸°","author":"SangMin","siteUrl":"https://sangmin802.github.io","comment":{"utterances":"sangmin802/sangmin802.github.io"}}},"markdownRemark":{"id":"2c64bef6-eb40-5aee-9a9f-2882f54dbb28","excerpt":"ì—ì„œ ëŠ” ë¹„ë™ê¸°ë¡œ ì‘ë™ì´ ëœë‹¤. ì—„ë°€íˆ ë”°ì§€ë©´, ê°€ í˜¸ì¶œì´ë˜ë©´ ìƒíƒœê°’ì„ ë³€ê²½í•˜ëŠ” ìš”ì²­ì„ ë¹„ë™ê¸°ë¡œ ì „ë‹¬í•˜ê²Œ ëœë‹¤. ë™ì¼ ì´ë²¤íŠ¸ ë‚´ì— ì—¬ëŸ¬ë²ˆ ë™ì¼í•œ ê°€ í˜¸ì¶œì´ ë˜ê³ , ë™ì¼í•œ ëŒ€ìƒì´ë¼ë©´ ëŒ€ì²´ëœë‹¤. ìœ„ì˜ ê°’ì´ 1ì¸ ì´ìœ ì´ë‹¤. React Asnyc Logicâ€¦","html":"<p><code class=\"language-text\">React</code>ì—ì„œ <code class=\"language-text\">setState</code>ëŠ” ë¹„ë™ê¸°ë¡œ ì‘ë™ì´ ëœë‹¤.</p>\n<p>ì—„ë°€íˆ ë”°ì§€ë©´, <code class=\"language-text\">setState</code>ê°€ í˜¸ì¶œì´ë˜ë©´ ìƒíƒœê°’ì„ ë³€ê²½í•˜ëŠ” ìš”ì²­ì„ ë¹„ë™ê¸°ë¡œ ì „ë‹¬í•˜ê²Œ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> setState<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>state <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>state <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>state <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 1</span></code></pre></div>\n<p>ë™ì¼ ì´ë²¤íŠ¸ ë‚´ì— ì—¬ëŸ¬ë²ˆ ë™ì¼í•œ <code class=\"language-text\">setState</code>ê°€ í˜¸ì¶œì´ ë˜ê³ , ë™ì¼í•œ ëŒ€ìƒì´ë¼ë©´ ëŒ€ì²´ëœë‹¤.</p>\n<blockquote>\n<p>ìœ„ì˜ ê°’ì´ 1ì¸ ì´ìœ ì´ë‹¤.</p>\n</blockquote>\n<h3 id=\"react-asnyc-logic\" style=\"position:relative;\"><a href=\"#react-asnyc-logic\" aria-label=\"react asnyc logic permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Asnyc Logic</h3>\n<p><code class=\"language-text\">React</code>ì—ì„œ ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚´ê³  ì‘ë‹µì„ ë°›ëŠ” ë“±ì˜ ë¹„ë™ê¸° ë¡œì§ì„ ì‘ì„±í•˜ëŠ” ë°©ì‹ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> async <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setError</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">async</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>async<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ëŒ€ì¶© ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë¹„ë™ê¸°ì‘ì—… ë¡œì§ì„ ì‘ì„±í•˜ê²Œ ëœë‹¤.</p>\n<blockquote>\n<p>ë” ë‚˜ì€ ë°©ë²•ìœ¼ë¡œ <code class=\"language-text\">React-Query</code>ë‚˜ ìƒí™©ì— ë”°ë¼<code class=\"language-text\">Redux-Saga</code> ë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•¨</p>\n</blockquote>\n<p>íë¦„ì€ ê°„ë‹¨í•˜ë‹¤.</p>\n<ol>\n<li>ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ <code class=\"language-text\">loading</code>.</li>\n<li>ì„œë²„ë¡œ ìš”ì²­ì„ ì „ì†¡í•˜ë©´, ì‘ë‹µì„ ë°›ì„ë•Œê¹Œì§€ ì¤‘ë‹¨.</li>\n<li>ì •ìƒ ì‘ë‹µì´ë©´ <code class=\"language-text\">data</code> ì„¤ì •, <code class=\"language-text\">loading</code> ì·¨ì†Œ.</li>\n<li>ì—ëŸ¬ë¼ë©´ <code class=\"language-text\">error</code> ì„¤ì •, <code class=\"language-text\">loading</code> ì·¨ì†Œ.</li>\n</ol>\n<p><code class=\"language-text\">setState</code>ë¥¼ í†µí•´ ìƒíƒœê°’ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ìš”ì²­ì„ ë¹„ë™ê¸°ë¡œ ì „ì†¡í•˜ëŠ” ìƒí™©ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰í™˜ê²½ì„ ìƒê°í•˜ë©´ì„œ íë¦„ì„ ì¡ì•„ë³´ëŠ” ê³¼ì •ì— ìˆì–´ì„œ ê¶ê¸ˆí•œê²ƒì´ ìƒê²¼ë‹¤.</p>\n<p><code class=\"language-text\">async</code>, <code class=\"language-text\">await</code>ì´ <code class=\"language-text\">Promise</code>, <code class=\"language-text\">.then</code>ì˜ ì–´ë– í•œ ë¶€ë¶„ì„ ëŒ€ì²´í•˜ëŠ”ê±¸ê¹Œ?</p>\n<h2 id=\"promise-then\" style=\"position:relative;\"><a href=\"#promise-then\" aria-label=\"promise then permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Promise, .then</h2>\n<p><code class=\"language-text\">async</code>, <code class=\"language-text\">await</code> ì´ì „ ë¹„ë™ê¸°ë¥¼ ì²˜ë¦¬í•˜ê¸°ìœ„í•´ ì‚¬ìš©ë˜ì–´ì™”ë˜ ë°©ë²•ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'done'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ë¹„ë™ê¸°ì‘ì—…ì˜ ê²°ê³¼ê°’ì„ ì¡ì•„ë‚´ê¸° ìœ„í•œ ë°©ë²•ì„ ì œê³µí•˜ëŠ” <code class=\"language-text\">Promise</code>ê°ì²´ëŠ” ëŒ€ê¸°, ì²˜ë¦¬, ê±°ë¶€ì˜ ìƒíƒœë¥¼ ê°–ê³ ìˆë‹¤.</p>\n<p>ìœ„ì˜ ìƒíƒœë§Œìœ¼ë¡œëŠ” <code class=\"language-text\">Promise { &lt;pending> }</code>ì˜ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤„ ê²ƒì´ë‹¤.</p>\n<blockquote>\n<p><code class=\"language-text\">console.log</code>ë¡œ ì¡°íšŒë¥¼ í•  ë•Œì—ëŠ” ì•„ì§, <code class=\"language-text\">.2</code>ì´ˆì˜ ì‘ì—…ì´ ë¹„ë™ê¸°ë¡œ ì§„í–‰ì¤‘ì´ê¸° ë–„ë¬¸</p>\n</blockquote>\n<p>ì²˜ë¦¬, ì—ëŸ¬ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” <code class=\"language-text\">.then</code>, <code class=\"language-text\">.catch</code>ì™€ ê°™ì€ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'done'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// end</span>\n<span class=\"token comment\">// .2ì´ˆë’¤, done</span></code></pre></div>\n<p><code class=\"language-text\">.then</code>, <code class=\"language-text\">.catch</code>ëŠ” ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì— ì €ì¥ì´ ë˜ì—ˆë‹¤ê°€ ì½œìŠ¤íƒì´ ë¹„ë©´ ì„ ì…ì„ ì¶œë°©ì‹ìœ¼ë¡œ ì‹¤í–‰ì´ ëœë‹¤.</p>\n<p>ì´ëŠ”, ìœ„ì™€ê°™ì€ <code class=\"language-text\">Promise</code>ê°ì²´ì—ì„œ ì§ì ‘ì ìœ¼ë¡œ <code class=\"language-text\">return</code>ì„ í†µí•´ ê°’ì„ ì „ë‹¬ë°›ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì†Œë¦¬ë‹¤.</p>\n<blockquote>\n<p>ì‹¤í–‰ë˜ëŠ” ì‹œê°„ì´ ë‹¤ë¥´ê¸°ë•Œë¬¸ì´ ì•„ë‹ê¹Œ</p>\n</blockquote>\n<ol>\n<li><code class=\"language-text\">promise</code>í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ê³ , <code class=\"language-text\">setTimeout</code> <code class=\"language-text\">web Api</code>ë¥¼ ë§Œë‚˜ì„œ ë¹„ë™ê¸°ì—ì„œ ì§„í–‰ë˜ë„ë¡ í•¨. ê·¸ë¦¬ê³  ì½œìŠ¤íƒì—ì„œ ì œê±°ë¨</li>\n<li><code class=\"language-text\">console.log('end')</code>ê°€ ì½œìŠ¤íƒì—ì„œ ì‹¤í–‰ë˜ê³  ë¹ ì§</li>\n<li><code class=\"language-text\">.2</code>ì´ˆì˜ ì‹œê°„ì´ íë¥´ê³  <strong>ë§¤í¬ë¡œíƒœìŠ¤í¬</strong>ì— <code class=\"language-text\">resolve('done')</code> ì‘ì—…ì„ ë¹„ì–´ìˆëŠ” ì½œìŠ¤íƒì— ì˜¬ë¦¼</li>\n<li><code class=\"language-text\">resolve('done')</code>ì„ ë¹„ë™ê¸°ë¡œ ì‹¤í–‰ì‹œí‚¤ê³  ì½œìŠ¤íƒì—ì„œ ì œê±°.\n<blockquote>\n<p><code class=\"language-text\">Promise</code> ìƒì„±ì ìì²´ê°€ ë¹„ë™ê¸°ë¡œ ì‹¤í–‰ì´ ë˜ëŠ”ê²ƒì´ ì•„ë‹Œ, <code class=\"language-text\">resolve</code>, <code class=\"language-text\">reject</code> ë¡œ ê²°ê³¼ê°’ì„ ì „ë‹¬ <code class=\"language-text\">.then</code>ìœ¼ë¡œ ìˆ˜ì‹ í•˜ëŠ” ê³¼ì •ì´ ì¤‘ìš”í•œê²ƒ ê°™ìŒ\n<code class=\"language-text\">Promise</code>ë‚´ë¶€ì— <code class=\"language-text\">console</code>ì„ ì°ìœ¼ë©´ ì½œìŠ¤íƒì— ì˜¬ë¼ê°„ ê·¸ëŒ€ë¡œ ì‹¤í–‰ë˜ê³  ì‚¬ë¼ì§</p>\n</blockquote>\n</li>\n<li><code class=\"language-text\">resolve('done')</code>ì´ ë¹„ë™ê¸°ì—ì„œ ì™„ë£Œë˜ë©´, <strong>ë§ˆì´í¬ë¡œíƒœìŠ¤í¬</strong>ì— <code class=\"language-text\">.then()</code>ì˜ ì½œë°± ì‘ì—…ì¸ <code class=\"language-text\">console.log(result)</code>ê°€ ì½œìŠ¤íƒì— ì˜¬ë¼ê°€ê³  ì‹¤í–‰ë˜ë¨.</li>\n</ol>\n<p>ìš°ë¦¬ê°€ ìì£¼ ì‚¬ìš©í•˜ëŠ” <code class=\"language-text\">fetch</code> ë˜í•œ <code class=\"language-text\">Promise</code>ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” <code class=\"language-text\">api</code>ë¡œ í˜¸ì¶œì´ ëœë‹¤ë©´ ë¹„ë™ê¸°ë¡œ ì‘ì—…ì´ ìˆ˜í–‰ëœ ë‹¤ìŒ, <code class=\"language-text\">.then</code>ê³¼ ê°™ì€ ë©”ì†Œë“œë¡œ ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<h2 id=\"async-await\" style=\"position:relative;\"><a href=\"#async-await\" aria-label=\"async await permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>async, await</h2>\n<p><code class=\"language-text\">async</code>, <code class=\"language-text\">await</code>ëŠ” ê¸°ì¡´ì˜ <code class=\"language-text\">Promise</code>, <code class=\"language-text\">.then</code>ë°©ì‹ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ìµœì‹ ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹œë¦¬ì¦ˆì¸ <code class=\"language-text\">ES8</code>ì—ì„œ ë‚˜ì˜¨ ë¬¸ë²•ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'done'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// done</span></code></pre></div>\n<p>ìœ„ì˜ í•¨ìˆ˜ë„ ì´ì „ <code class=\"language-text\">Promise</code>ì²˜ëŸ¼ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•œë‹¤.</p>\n<p>ì´ë¥¼ í†µí•´ ì•Œìˆ˜ ìˆëŠ”ì ì€, <code class=\"language-text\">async</code>ë¡œ ê°ì‹¸ì§„ í•¨ìˆ˜ëŠ” <code class=\"language-text\">Promise</code>ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤ëŠ”ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'done'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// done</span></code></pre></div>\n<p><code class=\"language-text\">await</code>ì„ ì‚¬ìš©í•˜ì—¬ <code class=\"language-text\">delay</code>ì™€ ê°™ì´ <code class=\"language-text\">Promise</code> ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ë¹„ë™ê¸°ì‘ì—…ì´ ìˆ˜í–‰ë  ê²½ìš°, <code class=\"language-text\">await</code>ì´ <code class=\"language-text\">Promise</code>ê°ì²´ê°€ ì•„ë‹Œ <code class=\"language-text\">resolve</code>ëœ ê°’ì„ ë°›ì„ ë•Œ ê¹Œì§€ ì´í›„ì˜ ë¡œì§ì„ ì¤‘ë‹¨ì‹œí‚¬ ìˆ˜ ìˆë‹¤.</p>\n<p>ë‹¨ìˆœíˆ ì´ë ‡ê²Œ ë³´ë©´ í° ì°¨ì´ë¥¼ ëª»ëŠë‚„ ìˆ˜ ìˆê² ì§€ë§Œ,</p>\n<p>ë¹„ë™ê¸°ì‘ì—…ì„ í†µí•´ ë°›ì•„ì˜¤ëŠ” ê°’ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡­ê²Œ ë¹„ë™ê¸°ì‘ì—…ì„ í˜¸ì¶œí•˜ëŠ” ë“±ì´ í•„ìš”í•œ ê²½ìš° <code class=\"language-text\">Promise</code>ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ê°€ ë¬´í•œíˆ ì¤‘ì²©ë˜ì–´ í”íˆ ë§í•˜ëŠ” <strong>ì½œë°±ì§€ì˜¥</strong> ì„ <code class=\"language-text\">async</code> <code class=\"language-text\">await</code>ì„ ì‚¬ìš©í•˜ë©´ ë§ˆì¹˜ ë™ê¸°ì‹ìœ¼ë¡œ ë³´ì´ë„ë¡ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</p>\n<blockquote>\n<p>ë¬¼ë¡ , ê°€ëŠ¥í•˜ë‹¤ë©´ ì²´ì´ë‹ìœ¼ë¡œë„ í•´ê²°ê°€ëŠ¥í•˜ê¸´ í•¨</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> data1 <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchData1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> data2 <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchData2</span><span class=\"token punctuation\">(</span>data1<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">...</span>\n\n\n<span class=\"token function\">fetchData1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data1</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">fetchData2</span><span class=\"token punctuation\">(</span>data1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data2</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data2<span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\">// ì²´ì´ë‹</span>\n<span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 id=\"then-await\" style=\"position:relative;\"><a href=\"#then-await\" aria-label=\"then await permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>.then, await</h2>\n<p><code class=\"language-text\">async</code>ê°€ <code class=\"language-text\">Promise</code>ì˜ ì–´ë–¤ì ì„ ëŒ€ì²´í•˜ëŠ”ì§€ëŠ” ì–´ë µì§€ ì•Šê²Œ ì•Œ ìˆ˜ ìˆë‹¤.</p>\n<p>í•¨ìˆ˜ë¥¼ <code class=\"language-text\">Promise</code>ê°ì²´ê°€ ë°˜í™˜ë˜ë„ë¡ í•´ì£¼ëŠ” ì .</p>\n<p><code class=\"language-text\">.then</code>ì´ ë¹„ë™ê¸°ë¡œ ì‹¤í–‰ë˜ê³  ì´í›„ì˜ ì½œë°±í•¨ìˆ˜ê°€ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ì— ì €ì¥ë˜ëŠ”ê²ƒì„ <code class=\"language-text\">await</code>ì€ ì–´ë–»ê²Œ ëŒ€ì²´í•˜ëŠ”ê²ƒì¼ê¹Œì— ëŒ€í•œ ê³ ë¯¼ì„ í•´ë³´ì•˜ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> async <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fetch done'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setError</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">async</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'useEffect done'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>async<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ê³„ì†í•´ì„œ ìƒê°ì„ í•´ë³´ê³ , ë³„ë„ì˜ ì˜ˆì œë¥¼ ëŒë ¤ë³´ì•˜ì„ ë•Œ ë‚˜ì˜¨ ê²°ê³¼ë¥¼ ì²˜ìŒì— ë³´ì•˜ë˜ <code class=\"language-text\">React</code>ì—ì„œì˜ <code class=\"language-text\">async</code> ë¡œì§ì„ í†µí•´ ë‹¤ì‹œ ì •ë¦¬í•´ë³¼ ìƒê°ì´ë‹¤.</p>\n<ol>\n<li><code class=\"language-text\">async()</code> í•¨ìˆ˜ëŠ” <code class=\"language-text\">Promise</code>ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì—, ë³„ë„ì˜ <code class=\"language-text\">return</code>ê°’ì„ ê°–ê³ ìˆì§€ ì•ŠëŠ”ë‹¤.</li>\n<li><code class=\"language-text\">setLoading(true)</code>ê°€ ì½œìŠ¤íƒì—ì„œ í˜¸ì¶œë˜ê³ , ìƒíƒœê°’ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ìš”ì²­ì„ ë¹„ë™ê¸°ë¡œ ì „ë‹¬í•œ ë‹¤ìŒ ì†Œë©¸ëœë‹¤.</li>\n<li><code class=\"language-text\">const data = await fetchSomething()</code>ì—ì„œ <code class=\"language-text\">fetchSomething()</code>ì˜ ë¹„ë™ê¸°ì‘ì—…ì´ í˜¸ì¶œë˜ê³  <code class=\"language-text\">await</code>ìœ¼ë¡œ ê°ì‹¸ì ¸ìˆê¸° ë•Œë¬¸ì—, <code class=\"language-text\">resolve</code>ëœ ê°’ì„ <code class=\"language-text\">await</code>ì´ ìˆ˜ì‹ í•  ë•Œê¹Œì§€ ì´í›„ì˜ ë¡œì§ì€ ì¤‘ë‹¨ë¨.</li>\n<li><code class=\"language-text\">async()</code>ê°€ ì½œìŠ¤íƒì—ì„œ ì‚¬ë¼ì§€ê³ , <code class=\"language-text\">console.log('useEffect done')</code>ì´ ì‹¤í–‰ë˜ê³  ì‚¬ë¼ì§</li>\n<li>ëª¨ë“  ì‘ì—…ì´ ì™„ë£Œë˜ê³  ì½œìŠ¤íƒì´ ë¹„ì–´ìˆê¸° ë•Œë¬¸ì—, ë¹„ë™ê¸°ë¡œ ì „ë‹¬ëœ <code class=\"language-text\">setLoading</code>ì˜ ìƒíƒœê°’ ì—…ë°ì´íŠ¸ ìš”ì²­ì´ ì‹¤í–‰ë˜ê³  <code class=\"language-text\">loading : true</code> ê°€ ë¨.</li>\n<li><code class=\"language-text\">fetch</code>ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” ë“± ì§„í–‰í•˜ëŠ”ë° í•„ìš”í•œì‹œê°„ì´ ì§€ë‚˜ê³ , <code class=\"language-text\">fetchSomething</code>ì´ <code class=\"language-text\">Promise.resolve</code>ëœ ê°’ì„ ë°˜í™˜í•˜ì—¬ <code class=\"language-text\">await ë˜ëŠ” .then</code>ì´ ê°ì§€ë¥¼í•˜ê³ , ì´í›„ì˜ ë¡œì§ë“¤ì´ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ì— ì €ì¥ì´ ë¨.\n<blockquote>\n<p><code class=\"language-text\">await</code>ì´ <code class=\"language-text\">.then</code>ì„ ëŒ€ì²´í•˜ë‹ˆ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ ì¼ ê²ƒì´ë¼ê³  ìƒê°ë¨</p>\n</blockquote>\n</li>\n<li><code class=\"language-text\">setLoading</code> ìš”ì²­ì„ ë§ˆì§€ë§‰ìœ¼ë¡œ ì½œìŠ¤íƒì´ ë¹„ì–´ìˆê¸° ë•Œë¬¸ì—, <code class=\"language-text\">await</code>ì´í›„ì˜ ë¡œì§ë“¤ì´ ì‘ë™ë¨</li>\n</ol>\n<p>ì´ë¥¼ í†µí•´ <code class=\"language-text\">await</code>ì˜ ëŒ€ì²´í•˜ëŠ”ê²ƒì„ <code class=\"language-text\">.then</code>ìœ¼ë¡œ ë³€ê²½ì„ í•œë²ˆ í•´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> async <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">fetchSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n      <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setError</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n      <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">async</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'useEffect done'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>async<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ì‹¤ì œë¡œ í…ŒìŠ¤íŠ¸ í•´ë³´ë‹ˆ ë™ì¼í•˜ê²Œ ì‘ë™ë˜ì—ˆë‹¤.</p>\n<p>ì´ë¥¼ í†µí•´ ì˜ˆìƒí•´ ë³¼ ìˆ˜ ìˆëŠ” ì </p>\n<ol>\n<li><code class=\"language-text\">await</code>ìœ¼ë¡œ ë°›ëŠ” ê²°ê³¼ê°’ì€ <code class=\"language-text\">.then(data)</code>ì˜ <code class=\"language-text\">data</code>ì™€ ë™ì¼í•˜ë‹¤.</li>\n<li><code class=\"language-text\">await</code>êµ¬ë¬¸ ì´í›„ì˜ ëª¨ë“  ë¡œì§ë“¤ì€ <code class=\"language-text\">.then(data => {ë¡œì§})</code> ë¡œì§ì— í•´ë‹¹ëœë‹¤.</li>\n</ol>\n<p>í˜¼ìì„œ í…ŒìŠ¤íŠ¸í•´ë³¸ ì½”ë“œì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'async 1 start'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">res</span><span class=\"token punctuation\">(</span><span class=\"token string\">'async1'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">150</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> val <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'async 2 start'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">res</span><span class=\"token punctuation\">(</span><span class=\"token string\">'async2'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'setTimeout1'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'setTimeout2'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'something work'</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> val2 <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'async 3 start'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'async3'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>val2<span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test end'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test2'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> val <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'async 4 start'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">res</span><span class=\"token punctuation\">(</span><span class=\"token string\">'async4'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test2 end'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// test</span>\n<span class=\"token comment\">// async 1 start</span>\n<span class=\"token comment\">// async 2 start</span>\n<span class=\"token comment\">// test2</span>\n<span class=\"token comment\">// async 4 start</span>\n<span class=\"token comment\">// end</span>\n<span class=\"token comment\">// async2</span>\n<span class=\"token comment\">// something work</span>\n<span class=\"token comment\">// async 3 start</span>\n<span class=\"token comment\">// async4</span>\n<span class=\"token comment\">// test2 end</span>\n<span class=\"token comment\">// async3</span>\n<span class=\"token comment\">// test end</span>\n<span class=\"token comment\">// setTimeout2</span>\n<span class=\"token comment\">// async1</span>\n<span class=\"token comment\">// setTimeout1</span></code></pre></div>\n<h2 id=\"ëŠë‚Œ\" style=\"position:relative;\"><a href=\"#%EB%8A%90%EB%82%8C\" aria-label=\"ëŠë‚Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ëŠë‚Œ</h2>\n<p>ì¬ë¯¸ìˆì—ˆë‹¤.</p>\n<p>ë­”ê°€ íë¦„ì— ëŒ€í•´ ì¡°ê¸ˆ ë” ê°€ê¹Œì›Œì§„ ë“¯ í•œ ëŠë‚Œ?</p>","frontmatter":{"title":"âš› CallStackì—ì„œ awaitì„ ë§Œë‚¬ì„ ë•Œ","date":"October 09, 2021"}}},"pageContext":{"slug":"/Study/Think/callstack await/","previous":{"fields":{"slug":"/Study/Think/notification/"},"frontmatter":{"title":"ğŸ”” Notifiactionìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ ì „ë‹¬","category":"Study","draft":false,"tag":"Think"}},"next":{"fields":{"slug":"/Diary/channel coperation/"},"frontmatter":{"title":"âœ ì±„ë„ ì½”í¼ë ˆì´ì…˜ í›„ê¸°","category":"Diary","draft":false,"tag":"Think"}}}},"staticQueryHashes":["1162990174","1854831582","2054357557","3128451518"],"slicesMap":{}}