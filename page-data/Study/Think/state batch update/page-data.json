{"componentChunkName":"component---src-templates-blog-post-js","path":"/Study/Think/state batch update/","result":{"data":{"site":{"siteMetadata":{"title":"SangMin ê°œë°œ ì´ì•¼ê¸°","author":"SangMin","siteUrl":"https://sangmin802.github.io","comment":{"utterances":"sangmin802/sangmin802.github.io"}}},"markdownRemark":{"id":"92e1bb87-d348-5acb-8e55-5be4e4c46eec","excerpt":"ì—ì„œ ì— ì˜í–¥ì„ ì£¼ëŠ” ë¥¼ í†µí•´ ì— ëŒ€í•œ ì—…ë°ì´íŠ¸ ìš”ì²­ì€ ë¹„ë™ê¸°ë¡œ ì „ë‹¬ëœë‹¤. ë˜í•œ, ëŠ” ìƒíƒœê°’ì„ ì—…ë°ì´íŠ¸ í•  ë•Œ ëª¨ë“  ìš”ì²­ì— ë”°ë¼ ë°”ë¡œë°”ë¡œ ê°€ ë˜ëŠ”ê²ƒì´ ì•„ë‹Œ ë³€ê²½ì‚¬í•­ì„ ëª¨ì•„ì„œ í•œë²ˆì— ì¼ê´„ ì²˜ë¦¬í•œë‹¤ê³  í•œë‹¤. ëª¨ë“  ìš”ì²­ì— ê°ê° ë°˜ì‘í•˜ì—¬ ë¥¼ í•˜ëŠ”ê²ƒë³´ë‹¨, ë‹¨ í•œë²ˆì˜ ë¥¼ í†µí•´ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•¨ì´ë¼ê³  í•œë‹¤. ê³µë¬¸ ì—ì„œëŠ” ì— ëŒ€í•´ ì´ëŸ°ì‹ìœ¼ë¡œ í‘œí˜„í–ˆë‹¤. ìƒíƒœ ì—…ë°ì´íŠ¸ëŠ” ë¹„ë™ê¸°ì‹ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nReactëŠ” setStateâ€¦","html":"<p><code class=\"language-text\">React</code>ì—ì„œ <code class=\"language-text\">render</code>ì— ì˜í–¥ì„ ì£¼ëŠ” <code class=\"language-text\">setState</code>ë¥¼ í†µí•´ <code class=\"language-text\">state</code>ì— ëŒ€í•œ ì—…ë°ì´íŠ¸ ìš”ì²­ì€ ë¹„ë™ê¸°ë¡œ ì „ë‹¬ëœë‹¤.</p>\n<p>ë˜í•œ, <code class=\"language-text\">React</code>ëŠ” ìƒíƒœê°’ì„ ì—…ë°ì´íŠ¸ í•  ë•Œ ëª¨ë“  ìš”ì²­ì— ë”°ë¼ ë°”ë¡œë°”ë¡œ <code class=\"language-text\">rerender</code>ê°€ ë˜ëŠ”ê²ƒì´ ì•„ë‹Œ ë³€ê²½ì‚¬í•­ì„ ëª¨ì•„ì„œ í•œë²ˆì— ì¼ê´„ ì²˜ë¦¬í•œë‹¤ê³  í•œë‹¤.</p>\n<p>ëª¨ë“  ìš”ì²­ì— ê°ê° ë°˜ì‘í•˜ì—¬ <code class=\"language-text\">rerender</code>ë¥¼ í•˜ëŠ”ê²ƒë³´ë‹¨, ë‹¨ í•œë²ˆì˜ <code class=\"language-text\">rerender</code>ë¥¼ í†µí•´ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•¨ì´ë¼ê³  í•œë‹¤.</p>\n<p><code class=\"language-text\">React</code>ê³µë¬¸ ì—ì„œëŠ” <code class=\"language-text\">setState</code>ì— ëŒ€í•´ ì´ëŸ°ì‹ìœ¼ë¡œ í‘œí˜„í–ˆë‹¤.</p>\n<blockquote>\n<p><strong>ìƒíƒœ ì—…ë°ì´íŠ¸ëŠ” ë¹„ë™ê¸°ì‹ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</strong>\nReactëŠ” setState()ì„±ëŠ¥ì„ ìœ„í•´ ì—¬ëŸ¬ í˜¸ì¶œì„ ë‹¨ì¼ ì—…ë°ì´íŠ¸ë¡œ ì¼ê´„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ .</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token string\">'./styles.css'</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> setState<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state2<span class=\"token punctuation\">,</span> setState2<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n  React<span class=\"token punctuation\">.</span><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n      <span class=\"token function\">setState2</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  React<span class=\"token punctuation\">.</span><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n      <span class=\"token function\">setState2</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span> state2<span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"App\"</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Hello CodeSandbox<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>Start editing to see some magic happen<span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// console</span>\n<span class=\"token comment\">// 0 0</span>\n<span class=\"token comment\">// 19 19</span></code></pre></div>\n<p>ì´ì „ <code class=\"language-text\">class</code>ì—ì„œ ë™ì¼í•œ ì´ë²¤íŠ¸ ë‚´ì—ì„œ ì—¬ëŸ¬ë²ˆì˜ <code class=\"language-text\">setState</code>ëŠ” ë³‘í•©ì˜ ë°©ì‹ìœ¼ë¡œ, <code class=\"language-text\">hook</code>ì„ ì‚¬ìš©í•œ <code class=\"language-text\">setState</code>ëŠ” ëŒ€ì²´ì˜ ë°©ì‹ìœ¼ë¡œ ì§„í–‰ëœë‹¤.</p>\n<h3 id=\"ì˜ˆì™¸ì ì¸-ìƒí™©\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%99%B8%EC%A0%81%EC%9D%B8-%EC%83%81%ED%99%A9\" aria-label=\"ì˜ˆì™¸ì ì¸ ìƒí™© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì˜ˆì™¸ì ì¸ ìƒí™©</h3>\n<p><code class=\"language-text\">intersectionObserver</code>ëŠ” ì‚¬ìš©ìì˜ ìŠ¤í¬ë¡¤ì´ ì–´ëŠ ì§€ì ì„ ë„˜ì–´ì„°ì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</p>\n<p>ê¸°ì¡´ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ëŠ” ì—¬ëŸ¬ë²ˆ ì´ë²¤íŠ¸ê°€ í˜¸ì¶œ ë  ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ <code class=\"language-text\">throttling</code>ì„ í•¨ê»˜ ì‚¬ìš©í–ˆì—ˆëŠ”ë°, ì´ë¥¼ ëŒ€ì‹ í•´ì£¼ì–´ì„œ <code class=\"language-text\">infinite scroll</code>ì„ êµ¬í˜„í•  ë•Œ ì‚¬ìš©í•˜ê³¤ í•œë‹¤.</p>\n<p><code class=\"language-text\">intersectonObserver</code>ì˜ ì¡°ê±´ì— ë„ë‹¬í–ˆì„ ë•Œ, ì•„ë˜ì™€ ê°™ì€ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë„ë¡ ì‘ì„±ì„ í•˜ì˜€ë‹¤.</p>\n<blockquote>\n<p>ì‹¤ì œë¡œ ì´ëŸ° ì½”ë“œëŠ” ì•„ë‹ˆì˜€ê³ .. ê°„ë‹¨í•˜ê²Œ ìˆ˜ì •í•˜ì˜€ë‹¤.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> setState<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> handleGetData <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'setState 1'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'setState 2'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ê°€ì¥ ì•„ë˜ì— ì‘ì„±ëœ <code class=\"language-text\">console</code>ì€ <code class=\"language-text\">rerender</code> ì‘ë™ ì—¬ë¶€ë¥¼ íŒŒì•…í•˜ê³ ì ì‘ì„±ì„ í–ˆëŠ”ë° ì˜ˆìƒí•˜ì§€ ëª»í•œ ê²°ê³¼ë¥¼ ë³´ì˜€ë‹¤.</p>\n<p><code class=\"language-text\">setState</code>ë¥¼ í†µí•œ ìš”ì²­ì€ ë¹„ë™ê¸°ë¡œ ì „ë‹¬ë˜ê¸° ë•Œë¬¸ì—, ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤ê³  ìƒê°í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 'setState 1'</span>\n<span class=\"token comment\">// 'setState 2'</span>\n<span class=\"token comment\">// 2</span></code></pre></div>\n<p>í•˜ì§€ë§Œ ì‘ë™ì„ í•˜ì˜€ì„ ë•Œ ì‹¤ì œë¡œ ë³´ì¸ ê²°ê³¼ëŠ” ì´ëŸ¬í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 'setState 1'</span>\n<span class=\"token comment\">// 1</span>\n<span class=\"token comment\">// 'setState 2'</span>\n<span class=\"token comment\">// 2</span></code></pre></div>\n<p>ê°ê°ì˜ <code class=\"language-text\">setState</code>ìš”ì²­ë“¤ì´ ë¹„ë™ê¸°ë¡œ ì „ë‹¬ë˜ì–´ <code class=\"language-text\">batch</code>ë¡œ ë³‘í•©ì„ í†µí•´ ë‹¨ í•œë²ˆì˜ <code class=\"language-text\">rerender</code>ë§Œ ë°œìƒí•˜ëŠ”ê²ƒì´ ì•„ë‹ˆë¼, ê°ê°ì˜ <code class=\"language-text\">setState</code>ìš”ì²­ì— ëŒ€í•´ ë³€ê²½ë˜ëŠ” ìƒíƒœê°’ì— ëŒ€í•´ ë°”ë¡œë°”ë¡œ <code class=\"language-text\">rerender</code>ê°€ ë°œìƒí–ˆë‹¤.</p>\n<p>ë¹„ìŠ·í•œ ê²°ê³¼ë¥¼ ë³´ì˜€ë˜ ì˜ˆì œê°€ í•œê°€ì§€ ë” ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>testState<span class=\"token punctuation\">,</span> setTestState<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>loading<span class=\"token punctuation\">,</span> setLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>error<span class=\"token punctuation\">,</span> setError<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> async <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">setTestState</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">res</span><span class=\"token punctuation\">(</span><span class=\"token string\">'done'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setError</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">async</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>async<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>testState<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> loading<span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>testState<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> loading<span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">React-Query</code>ë‚˜ <code class=\"language-text\">Redux-Saga</code>ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , <code class=\"language-text\">React Hook</code>ë§Œì„ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸°ì‘ì—…ì„ ì²˜ë¦¬í•˜ê³ ì í•  ë•Œ ì´ëŸ°ì‹ìœ¼ë¡œ ì‘ì„±í•  ê²ƒì´ë‹¤.</p>\n<p>ìœ„ì˜ ê²°ê³¼ë¥¼ ë¯¸ë¦¬ ë³´ìë©´</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 0 null false</span>\n<span class=\"token comment\">// 1 null true</span>\n<span class=\"token comment\">// 1 \"done\" true</span>\n<span class=\"token comment\">// 1 \"done\" false</span></code></pre></div>\n<p><code class=\"language-text\">setLoading(false)</code>ì™€ <code class=\"language-text\">setTestState(1)</code>ì€ ë¹„ë™ê¸°ë¡œ ì „ë‹¬ì´ ë˜ê³ , í•œë²ˆì˜ <code class=\"language-text\">rerender</code>ë¥¼ ìœ„í•´ ì˜ ë³‘í•©ë˜ì–´ ìƒíƒœê°’ì´ ì—…ë°ì´íŠ¸ ë˜ì—ˆë‹¤.</p>\n<p>í•˜ì§€ë§Œ, <code class=\"language-text\">await</code>ì´í›„ì˜ <code class=\"language-text\">setState</code>ë“¤ì€ ê°ê°ì˜ ìš”ì²­ì— ë³„ë„ì˜ <code class=\"language-text\">rerender</code>ë¥¼ ê°–ê³ ìˆë‹¤.</p>\n<p>ìœ„ì˜ ë‘ê°€ì§€ ìƒí™©ì— ìˆì–´ì„œëŠ” ê³µí†µì ì„ í•˜ë‚˜ ê°–ê³ ìˆë‹¤.</p>\n<h2 id=\"state-batch-updatingì˜-ì˜ˆì™¸ìƒí™©\" style=\"position:relative;\"><a href=\"#state-batch-updating%EC%9D%98-%EC%98%88%EC%99%B8%EC%83%81%ED%99%A9\" aria-label=\"state batch updatingì˜ ì˜ˆì™¸ìƒí™© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>state batch updatingì˜ ì˜ˆì™¸ìƒí™©</h2>\n<ol>\n<li><code class=\"language-text\">intersectionObserver</code></li>\n<li><code class=\"language-text\">Promise.then</code></li>\n</ol>\n<p><code class=\"language-text\">intersectionObserver</code>ëŠ” <code class=\"language-text\">element</code>ê°€ ë³´ì´ëŠ”ì§€ ì•ˆë³´ì´ëŠ”ì§€ì— ë”°ë¼ <strong>ë¹„ë™ê¸°</strong>ë¡œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•´ì¤€ë‹¤.</p>\n<p><code class=\"language-text\">await</code>ì€ <code class=\"language-text\">Promise.then</code>ìœ¼ë¡œ ëŒ€í‘œì ì¸ <strong>ë¹„ë™ê¸°</strong> ì‘ì—…ì´ë‹¤.</p>\n<p><code class=\"language-text\">async/await</code>, <code class=\"language-text\">then/catch</code>, <code class=\"language-text\">setTimeout</code>, <code class=\"language-text\">fetch</code>ì™€ ê°™ì€ ë¹„ë™ê¸° ë™ì‘ì„ ì‚¬ìš©í•˜ëŠ” í•¸ë“¤ëŸ¬ ë‚´ë¶€ì˜ <code class=\"language-text\">setState</code>ë“¤ì€ <code class=\"language-text\">batch</code>ì‘ì—…ì´ ì´ë¤„ì§€ì§€ ì•ŠëŠ”ë‹¤ê³  í•œë‹¤.</p>\n<p>ë”°ë¼ì„œ, <code class=\"language-text\">await</code>ì´ì „ì˜ <code class=\"language-text\">setState</code>ë“¤ì€ <code class=\"language-text\">batch</code>ê°€ ì •ìƒì ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆì§€ë§Œ, <code class=\"language-text\">.then</code>ì´í›„ì˜ ì½œë°±í•¨ìˆ˜ì— í•´ë‹¹ë˜ëŠ” <code class=\"language-text\">setState</code>ë“¤ì€ ë¹„ë™ê¸°ì‘ì—…ê³¼ ê´€ë ¨ëœ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì— ìœ„ì¹˜í•˜ê³  ìˆê¸° ë•Œë¬¸ì— <code class=\"language-text\">batch</code>ê°€ ì‘ë™ë˜ì§€ ì•Šì•˜ë˜ê²ƒ ê°™ë‹¤.</p>\n<h2 id=\"react18\" style=\"position:relative;\"><a href=\"#react18\" aria-label=\"react18 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React18</h2>\n<p><code class=\"language-text\">React</code>ì˜ 18ë²„ì „ì—ëŠ” ëª¨ë“  ê²½ìš°ì— <code class=\"language-text\">batching</code> ì— ëŒ€í•´ ë§ì€ ì´ìŠˆê°€ ìˆëŠ”ê²ƒ ê°™ë‹¤.</p>\n<ul>\n<li><a href=\"https://github.com/reactwg/react-18/discussions/21\">Automatic batching for fewer renders in React 18</a></li>\n</ul>\n<blockquote>\n<p>React 18 adds automatic batching for all use cases to improve performance even further. Now, React batches state updates in React events handlers, promises, setTimeout, native event handlers and so on.</p>\n</blockquote>\n<h2 id=\"ëŠë‚Œ\" style=\"position:relative;\"><a href=\"#%EB%8A%90%EB%82%8C\" aria-label=\"ëŠë‚Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ëŠë‚Œ</h2>\n<p><code class=\"language-text\">setState</code>ê°€ ì‘ë™ë˜ëŠ” ë°©ì‹ì— ìˆì–´ì„œ ìƒê°ë³´ë‹¤ ë§ì€ë¶€ë¶„ì—ì„œ ì„±ëŠ¥ì„ ê³ ë ¤í•´ì£¼ëŠ”ê²ƒ ê°™ë‹¤.</p>\n<p>ì‚¬ì‹¤, ìœ„ì˜ 2ë²ˆì§¸ ìƒí™©ê³¼ ê°™ì€ ë¹„ë™ê¸°ì‘ì—… ì²˜ë¦¬ì— ìˆì–´ì„œëŠ” ì—¬ëŸ¬ê°œì˜ ìƒíƒœê°’ì´ ë³€í™”ë ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‚˜, ì—ëŸ¬í•¸ë“¤ë§ê³¼ ê°™ì´ ë¡œì§ì´ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ê³ ë ¤í•´ë³´ì•˜ì„ ë•Œ <code class=\"language-text\">useReducer</code>ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ë” ì í•©í•´ë³´ì´ê¸°ë„ í•œë‹¤.</p>\n<blockquote>\n<p><code class=\"language-text\">SUCCESS</code>, <code class=\"language-text\">FAIL</code>ë¼ëŠ” ì•¡ì…˜ìœ¼ë¡œ ë¶„ë¦¬í•˜ê³ , ê·¸ì— ë§ëŠ” ë³µìˆ˜ì˜ ìƒíƒœê°’ë³€ê²½ ë° ë¡œì§ ì‘ì„±</p>\n</blockquote>\n<p>ìµœê·¼ <code class=\"language-text\">React</code>ë‚˜ <code class=\"language-text\">React Hook</code>ë“±ì˜ ì‘ë™ì›ë¦¬ê°™ì€ ë””í…Œì¼í•œ ë¶€ë¶„ì— í˜¸ê¸°ì‹¬ì´ ìƒê²¨ì„œ ë” ì•Œì•„ë³´ëŠ” ì¤‘ì´ë‹¤.</p>\n<p>ì ì–´ë„ ë‚´ê°€ ì‚¬ìš©í•˜ëŠ” í”„ë ˆì„ì›Œí¬, ëª¨ë“ˆì— ëŒ€í•´ì„œëŠ” ê¹Šì€ ì´í•´ë¥¼ ê°–ê³  ìˆì–´ì•¼ê² ë‹¤ëŠ” ìƒê°ì„ í•˜ê³  ìˆë‹¤.</p>\n<h2 id=\"ì°¸ì¡°\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EC%A1%B0\" aria-label=\"ì°¸ì¡° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ì¡°</h2>\n<ul>\n<li><a href=\"https://medium.com/swlh/react-state-batch-update-b1b61bd28cd2\">state batch updating</a></li>\n<li><a href=\"https://github.com/reactwg/react-18/discussions/21\">Automatic batching for fewer renders in React 18</a></li>\n<li><a href=\"https://www.bigbinary.com/blog/react-18-introduces-automatic-batching\">React 18 introduces Automatic Batching</a></li>\n</ul>","frontmatter":{"title":"âš› React state batch updating ì´ìŠˆ","date":"October 21, 2021"}}},"pageContext":{"slug":"/Study/Think/state batch update/","previous":{"fields":{"slug":"/Study/Think/callstack await/"},"frontmatter":{"title":"âš› CallStackì—ì„œ awaitì„ ë§Œë‚¬ì„ ë•Œ","category":"Study","draft":false,"tag":"Think"}},"next":{"fields":{"slug":"/Study/Think/how styled-components work/"},"frontmatter":{"title":"ğŸ¨ styled-componentsì˜ ì‘ë™ì›ë¦¬","category":"Study","draft":false,"tag":"Think"}}}},"staticQueryHashes":["1162990174","1854831582","2054357557","3128451518"],"slicesMap":{}}