---
title: 'ğŸ§™â€â™€ï¸ thisë¥¼ ì œì–´í•˜ëŠ” ì'
date: 2021-07-23 15:58:00
category: 'Study'
draft: false
tag: 'Think'
---

í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì„ í•˜ë‹¤ë³´ë©´ ì •ë§ ìì£¼ ì ‘í•˜ê²Œë˜ëŠ” í‚¤ì›Œë“œê°€ ìˆë‹¤.

`this`

ì´ì „ `class` ê¸°ë°˜ì˜ `React`ë¥¼ êµ¬ì„±í•  ë•Œì—ëŠ” ì´ `this`ë¥¼ ì •ë§ ì§ˆë¦¬ë„ë¡ ì‚¬ìš©ì„ í–ˆì—ˆë‹¤.

ë„ˆë¬´ë‚˜ë„ ìì—°ìŠ¤ëŸ½ê²Œ ì‚¬ìš©í•˜ê³  ìˆì—ˆì§€ë§Œ, `this`ì— ëŒ€í•´ ì„¤ëª…ì„ í•´ë³´ì í•˜ë©´ ë¬´ìŠ¨ë§ ë¶€í„° êº¼ë‚´ì•¼ í• ì§€ ëª°ëë˜ ì ì´ `this`ì—ê²Œ ë„ˆë¬´ ë¯¸ì•ˆí•´ì„œ ì œëŒ€ë¡œ ì•Œì•„ë³´ë ¤ê³  í•œë‹¤.

## this

ì •ë§ ë‹¨ìˆœí•˜ê²Œ ì •ì˜í•´ë³´ìë©´ `this`ëŠ” ìì‹ ì„ ì‚¬ìš©í•˜ëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ê°€ ì €ì¥ë˜ì–´ìˆëŠ” ì†ì„±ì´ë¼ê³  ìƒê°í•´ë³¼ ìˆ˜ ìˆì„ê²ƒ ê°™ë‹¤.

í•˜ì§€ë§Œ ì´ëŸ¬í•œ `this`ê°€ í˜•ì„±ì´ ë˜ëŠ” ë°©ì‹ì€ ì—¬ëŸ¬ê°œê°€ ìˆë‹¤.

ì•„ë§ˆ ì´ëŸ¬í•œ ì  ë•Œë¬¸ì—, `this`ì— ëŒ€í•´ í˜¼ì„ ì´ ìƒê¸°ê³  ì‚¬ìš©í–ˆì„ ë•Œ ì˜ˆìƒí•˜ì§€ ëª»í•œ ê²°ê³¼ë¥¼ ë§ë‹¥ë“œë¦¬ê²Œ ë˜ëŠ”ê²Œ ì•„ë‹Œê°€ ì‹¶ë‹¤.

## ì „ì—­ë¬¸ë§¥ì—ì„œì˜ this

ì „ì—­ì»¨í…ìŠ¤íŠ¸ì—ì„œ í˜•ì„±ëœ `this`ëŠ” ì „ì—­ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê²Œ ëœë‹¤.

```js
console.log(this === window) // true
```

## í•¨ìˆ˜ë¬¸ë§¥ì—ì„œì˜ this

í•¨ìˆ˜ì—ì„œì˜ `this`ëŠ” ë‹¤ë¥¸ ë³€ìˆ˜ë‚˜ ìƒìˆ˜ë“¤ê³¼ ë‹¤ë¥´ê²Œ ì„ ì–¸ ì‹œì— í• ë‹¹ë˜ëŠ”ê²ƒì´ ì•„ë‹Œ, í˜¸ì¶œë˜ëŠ” ë°©ë²•ì— ì˜í•´ í• ë‹¹ì´ ëœë‹¤.

> ê¸°ë³¸ì ìœ¼ë¡œ í•¨ìˆ˜ì—ì„œì˜ `this`ëŠ” ì „ì—­ê°ì²´ì¸ `window`ë¥¼ ì§€ì¹­í•œë‹¤.

### ì „ì—­í˜¸ì¶œ

```js
function test() {
  console.log(this)
}
test() // window
```

ì¼ë°˜ í•¨ìˆ˜ì—ì„œ `this`ë¥¼ í˜¸ì¶œ í•˜ì˜€ì„ ë•Œì—ëŠ” ì „ì—­ê°ì²´ì¸ `window`ë¥¼ ì°¸ì¡°í•œë‹¤.

ìš°ë¦¬ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ê°„ëµí•˜ê²Œ `test()`ì™€ ê°™ì´ í•¨ìˆ˜ëª…ë§Œ ì ì–´ì„œ í˜¸ì¶œí•˜ì§€ë§Œ, `window.test()`ë¼ëŠ”ê²ƒì´ ìƒëµë˜ì–´ìˆê¸° ë•Œë¬¸ì—, `window`ë¥¼ ì°¸ì¡°í•˜ëŠ” ì±„ë¡œ í˜¸ì¶œì´ ë˜ì–´ì„œ ê·¸ëŸ°ê²ƒ ê°™ë‹¤.

### this ê°ì²´ ì „ë‹¬

`call`ê³¼ `apply` ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ í˜¸ì¶œ ë°©ì‹ì— ë”°ë¥¸ `this`í• ë‹¹ì´ ì•„ë‹Œ ë‹¤ë¥¸ ê°ì²´ë¡œ ë„˜ê²¨ì¤„ ìˆ˜ ìˆë‹¤.

```js
const obj = { name: 'ê°ì²´ ìƒë¯¼' }
const name = 'ì „ì—­ ìƒë¯¼'
function test() {
  console.log(this.name)
}
test() // ì „ì—­ ìƒë¯¼
test.call(obj) // ê°ì²´ ìƒë¯¼
test() // ì „ì—­ ìƒë¯¼
```

í•˜ì§€ë§Œ, `call`ì˜ ë°©ì‹ì€ ì¼íšŒì„±ì´ ê°•í•˜ë‹¤. ê°ì²´ë¥¼ ë„˜ê²¨ì£¼ì—ˆì„ ë•Œì—ëŠ” í•´ë‹¹ ê°ì²´ë¡œ í• ë‹¹ì´ ë˜ì§€ë§Œ, ì´í›„ì˜ í˜¸ì¶œì—ì„œëŠ” ë‹¤ì‹œ ì›ë˜ì˜ ë°©ì‹ìœ¼ë¡œ ëŒì•„ì˜¨ë‹¤.

```js
const obj = { name: 'ê°ì²´ ìƒë¯¼' }
const name = 'ì „ì—­ ìƒë¯¼'
function test() {
  console.log(this.name)
}
const newTest = test.bind(obj)
test() // ì „ì—­ ìƒë¯¼
newTest() // ê°ì²´ ìƒë¯¼
newTest() // ê°ì²´ ìƒë¯¼
```

`ECMAScript5`ì—ì„œ ë„ì…ëœ `bind`ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ê²Œ ë  ê²½ìš°, `call`ê³¼ ìœ ì‚¬í•˜ê²Œ ê°ì²´ë¥¼ ë„˜ê²¨ì¤„ìˆ˜ ìˆê²Œ ë˜ì§€ë§Œ, ì¼íšŒì„±ì´ ì•„ë‹Œ ì˜êµ¬ì ìœ¼ë¡œ ì°¸ì¡°í•˜ê²Œë˜ëŠ” ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê²Œëœë‹¤.

## ë‚´ë¶€í•¨ìˆ˜ì—ì„œì˜ this

ë‚´ë¶€í•¨ìˆ˜ì˜ `this`ëŠ” ì „ì—­ì»¨í…ìŠ¤íŠ¸ì˜ `this`ì¸ `window`ë¥¼ ì°¸ì¡°í•˜ê³  ìˆë‹¤.

ì´ ë•Œ, ì°¸ì¡°í•˜ëŠ” `this`ë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œëŠ” `.bind`, `.call`ë“±ìœ¼ë¡œ `this`ë¥¼ í• ë‹¹í•˜ì—¬ í˜¸ì¶œí•´ì•¼ í•œë‹¤.

```js
const obj = { id: 1 }

function fun() {
  function innerFun() {
    console.log('innerFun' + this)
  }

  function innerFun2() {
    console.log('innerFun2' + this)
  }

  innerFun()
  innerFun2.call(obj)
}

fun()
// innerFun window
// innerFun2 obj
```

## í™”ì‚´í‘œí•¨ìˆ˜ì—ì„œì˜ this

ì•„ë§ˆ ê°€ì¥ ë§ì´ í—·ê°ˆë¦¬ëŠ” ë¶€ë¶„ì´ ì•„ë‹ê¹Œ ì‹¶ë‹¤.

ì½œë°±í•¨ìˆ˜ ë“± ìì£¼ ì ‘í•˜ê²Œë˜ëŠ” í™”ì‚´í‘œí•¨ìˆ˜ ë˜í•œ **í•¨ìˆ˜** ì´ì§€ë§Œ, í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ í˜•ì„±ë˜ëŠ”ê²ƒì´ ì•„ë‹Œ, ìì‹ ë³´ë‹¤ ìƒìœ„ì¸ ì™¸ë¶€ ë ‰ì‹œì»¬ í™˜ê²½ì—ì„œ ì°¸ì¡°í•˜ê³ ìˆëŠ” `this`ë¥¼ ì°¸ì¡°í•œë‹¤.

ë˜í•œ, ì´ í™”ì‚´í‘œí•¨ìˆ˜ì—ëŠ” `bind`ì™€ ê°™ì€ ë„˜ê²¨ì£¼ëŠ” ë©”ì†Œë“œê°€ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.

```js
const obj1 = {
  introduce() {
    console.log(this)
  },
}
const obj2 = {
  introduce: () => {
    console.log(this)
  },
}
obj1.introduce() // obj1
obj2.introduce() // window
```

`obj1`ì˜ ìƒí™©ì„ ì•Œì•„ë³´ì

`obj1`ì˜ `introduce` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ì„œ, í•¨ìˆ˜ ë‚´ë¶€ì˜ `this`ëŠ” í˜¸ì¶œë°©ì‹ì— ë”°ë¼ í• ë‹¹ë˜ê¸° ë•Œë¬¸ì— `obj1`ì„ ì°¸ì¡°í•˜ê²Œ ëœë‹¤.

`obj2`ëŠ” í™”ì‚´í‘œí•¨ìˆ˜ë¡œì„œ ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ ì§„í–‰ëœë‹¤.
ê¸°ë³¸ì ìœ¼ë¡œ `this`ëŠ” ë‘ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ì•Œ ìˆ˜ ìˆë‹¤.

1. ì „ì—­ ìŠ¤ì½”í”„ì˜ `this`
2. ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¡œì„œ í•¨ìˆ˜ê°€ í˜¸ì¶œ ë° ë©”ì†Œë“œë¡œ ë°”ì¸ë”©ë˜ëŠ” `this`

í•˜ì§€ë§Œ ìœ„ì˜ ë‘ê°€ì§€ì™€ ë‹¤ë¥´ê°€ í™”ì‚´í‘œí•¨ìˆ˜ëŠ” ì •ì ìŠ¤ì½”í”„ì˜ `this`ë¥¼ ì°¸ì¡°í•œë‹¤.

í™”ì‚´í‘œí•¨ìˆ˜ëŠ” ì¼ë°˜ í•¨ìˆ˜ì™€ ë‹¤ë¥´ê²Œ `arguments`, `this`, `constructor`ê°€ ì—†ë‹¤.

> `consturctor`ê°€ ì—†ê¸° ë•Œë¬¸ì— í™”ì‚´í‘œí•¨ìˆ˜ë¥¼ ìƒì„±ì í•¨ìˆ˜ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ”ê²ƒ.

ë”°ë¼ì„œ, í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ëŠ” `this`ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì„ ì–¸ë  ë‹¹ì‹œì˜ ìƒìœ„ ìŠ¤ì½”í”„ì— ìˆëŠ” `this`ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ë‹¤.

> ë³€ìˆ˜ë¥¼ ì°¾ì•„ê°€ëŠ” ì¼ì¢…ì˜ ìŠ¤ì½”í”„ ì²´ì¸ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆì„ê²ƒ ê°™ìŒ

ì¶”ì¸¡í•´ë³´ê±´ë°, í•¨ìˆ˜ ì»¨í…ìŠ¤íŠ¸ê°€ ì‹¤í–‰ë˜ë©´ì„œ ê¸°ë³¸ì ìœ¼ë¡œ `this`ê°€ ì°¸ì¡°í•˜ëŠ” `window`ê°ì²´ì—ì„œ, í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ë°©ì‹ì— ë”°ë¼ ë‹¤ë¥¸ `this`ë¡œ ë³€ê²½ë  ìˆ˜ ìˆê³ , í™”ì‚´í‘œí•¨ìˆ˜ëŠ” ì •ì ìŠ¤ì½”í”„ë¡œ ì°¸ì¡°í•˜ëŠ” ë³€ê²½ëœ `this`ë¥¼ ì°¸ì¡°í•˜ëŠ”ê²ƒì´ ì•„ë‹ê¹Œ?

## prototype chainì—ì„œì˜ this

```js
const obj = {
  test() {
    return this.a + this.b
  },
}
const newObj = Object.create(obj)
newObj.a = 1
newObj.b = 4
console.log(newObj.test()) // 5
```

`class`ì´ì „ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ìƒì†ê°œë…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë˜ `prototype`ë˜í•œ `this`ì— ìˆì–´ì„œëŠ” ì¼ë°˜ ì •ê·œ í•¨ìˆ˜ì™€ ë¹„ìŠ·í•˜ê²Œ í˜¸ì¶œë  ë•Œ í• ë‹¹ì´ ëœë‹¤.

ë˜í•œ, `class`ì™€ ìƒì„±ìí•¨ìˆ˜ `new Fucntion`ë‚´ë¶€ì—ì„œì˜ `this`ë˜í•œ ìê¸° ìì‹  ê°ì²´ë¥¼ ì°¸ì¡°ë¡œ í•˜ì—¬ `binding`ëœë‹¤.

`React`ì˜ `class`ê¸°ë°˜ì—ì„œ ì‚¬ìš©í•´ì˜¤ë˜ `this.state`, `this.props`ë“¤ì´ ì´ì™€ ê°™ì€ ë°©ì‹ë•Œë¬¸ì´ë‹¤.

## ì°¸ì¡°

- [arrow functions this](https://github.com/anirudh-modi/JS-essentials/blob/master/ES2015/Functions/Arrow%20functions.md#how-this-is-different-for-arrow-functions)
- [mdn this](https://developer.mozilla.org/ko/docs/orphaned/Web/JavaScript/Reference/Operators/this)
- [this](https://poiemaweb.com/js-this)
- [í™”ì‚´í‘œí•¨ìˆ˜ì™€ ì‹¤í–‰ì»¨í…ìŠ¤íŠ¸](https://velog.io/@seungdeng17/%ED%99%94%EC%82%B4%ED%91%9C-%ED%95%A8%EC%88%98%EC%9D%98-this-with-%EC%8B%A4%ED%96%89-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8)
